<!DOCTYPE html>
<head>
    <title>Fetch API</title>
</head>
<body>
    <script>
        function buildResponse(data) {
            var target = document.querySelector('ol#response');

            for (i=0; i<data.length; i++) {
                var li = document.createElement('li');
                li.innerText = JSON.stringify(data[i]);
                // li.innerHTML = `
                //     <p>PostID: ${data[i].postId}</p>
                //     <p>Name: ${data[i].name}</p>
                //     <p>Email: ${data[i].email}</p>
                //     <p>Body: ${data[i].body}</p>`
                target.appendChild(li);
            }
        }


        function clearPage() {
            var target = document.querySelector('ol#response');
            target.innerHTML = '';
        }


        // Fetch API
        // https://www.youtube.com/watch?v=drK6mdA9d_M
        function fetchData() {
            var target = document.querySelector("input#url");
            fetch(target.value).then(response => {
                console.log(response)
                return response.json();
            }).then(data => {
                buildResponse(data);        
            })
        }
    </script>

    <input type="text" id="url" value="https://jsonplaceholder.typicode.com/posts/1/comments" style="width:80%">
    <br>
    <button onclick="fetchData()">Fetch Data</button>
    <button onclick="clearPage()">Clear Page</button>

    <ol id="response"></ol>
</body>
</html>
